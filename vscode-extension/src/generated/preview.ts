// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.11.2
//   protoc               v6.33.4
// source: preview.proto

/* eslint-disable */

export const protobufPackage = "axe.preview";

/**
 * Command is sent from the extension to the CLI via stdin.
 * stream_id identifies the target stream (UUID v4, generated by extension).
 */
export interface Command {
  streamId: string;
  addStream?: AddStream | undefined;
  removeStream?: RemoveStream | undefined;
  switchFile?: SwitchFile | undefined;
  nextPreview?: NextPreview | undefined;
  input?: Input | undefined;
}

/**
 * AddStream creates a new preview stream.
 * The CLI allocates a simulator from the device pool based on device_type + runtime.
 */
export interface AddStream {
  /** Swift file path to preview */
  file: string;
  /** e.g. "com.apple.CoreSimulator.SimDeviceType.iPhone-16-Pro" */
  deviceType: string;
  /** e.g. "com.apple.CoreSimulator.SimRuntime.iOS-18-2" */
  runtime: string;
}

/** RemoveStream stops and removes a preview stream. */
export interface RemoveStream {
}

/** SwitchFile changes the previewed file within an existing stream (hot-reload). */
export interface SwitchFile {
  file: string;
}

/** NextPreview cycles to the next #Preview block in the current file. */
export interface NextPreview {
}

/** Input forwards user interaction (touch/text) to the simulator. */
export interface Input {
  touchDown?: TouchEvent | undefined;
  touchMove?: TouchEvent | undefined;
  touchUp?: TouchEvent | undefined;
  text?: TextEvent | undefined;
}

export interface TouchEvent {
  /** 0.0–1.0 (left to right) */
  x: number;
  /** 0.0–1.0 (top to bottom) */
  y: number;
}

export interface TextEvent {
  /** single character */
  value: string;
}

/**
 * Event is sent from the CLI to the extension via stdout.
 * stream_id identifies which stream this event belongs to.
 */
export interface Event {
  streamId: string;
  frame?: Frame | undefined;
  streamStarted?: StreamStarted | undefined;
  streamStopped?: StreamStopped | undefined;
  streamStatus?: StreamStatus | undefined;
}

/** Frame contains a base64-encoded JPEG preview image. */
export interface Frame {
  /** device name, e.g. "iPhone 16 Pro" */
  device: string;
  /** previewed file path */
  file: string;
  /** base64-encoded JPEG */
  data: string;
}

/** StreamStarted is sent when an AddStream completes successfully. */
export interface StreamStarted {
  /** number of #Preview blocks in the file */
  previewCount: number;
}

/** StreamStopped is sent when a stream ends (error or user action). */
export interface StreamStopped {
  /** e.g. "build_error", "runtime_error", "removed" */
  reason: string;
  /** human-readable detail */
  message: string;
  /** compiler output excerpt for build errors */
  diagnostic: string;
}

/** StreamStatus reports progress during stream initialization. */
export interface StreamStatus {
  /** "booting", "building", "installing", "running" */
  phase: string;
}
